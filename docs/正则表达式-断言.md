## 断言

| 符号 | 名字 | 代表意思 |
| -- | -- | -- |
| `reg(?=exp)`  | 零宽度正先行断言 | `reg` 匹配的内容后面内容满足 `exp` 规则   |
| `reg(?!exp)`  | 零宽度负先行断言 | `reg` 匹配的内容后面内容不满足 `exp` 规则 |
| `(?<=exp)reg` | 零宽度正后发断言 | `reg` 匹配的内容前面内容满足 `exp` 规则   |
| `(?<!exp)reg` | 零宽度负后发断言 | `reg` 匹配的内容前面内容不满足 `exp` 规则 |

以`(?=exp)`**零宽度正先行断言**为例

1. "**先行**"表示待校验的位置在前，即校验的位置在`exp`匹配的内容之前
2. "**正**"表示`exp`描述的规则，匹配校验位置后面的内容


| 断言元字符 | 意义:以`0A1B2`为例 |
| -- | -- |
| `^`  | 行首，字符串首 表示位置0 |
| `$`  | 行尾，字符串尾部，表示位置2 |
| `\b` | 字分界线，可以表示：0,2位置 |
| `\B` | 非字分界线，可以表示1位置 |
| `\A` | 目标的开头（独立于多行模式） 表示位置0 |
| `\Z` | 目标的结尾或位于结尾的换行符前（独立于多行模式） 表示位置2 |
| `\z` | 目标的结尾（独立于多行模式）表示位置2 |
| `\G` | 目标中的第一个匹配位置 |
|   | `A`, `Z`, `z`, `G`很少使用|


**例1. 取运行级别**

```sh
shell> cat /etc/inittab
...
id:3:initdefault:
...

shell>  grep -aPo '[0-9](?=:initdefault)' /etc/inittab
3
```

**例2. 取系统版本**

```sh
shell> cat /etc/redhat-release
Red Hat Enterprise Linux Server release 7.9 (Maipo)

shell> grep -aPo '(?<=release\s)\d' /etc/redhat-release
7
```